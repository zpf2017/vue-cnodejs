webpackJsonp([0,6,7],{1:function(t,e){t.exports=function(t,e,s,o){var n,a=t=t||{},i=typeof t.default;"object"!==i&&"function"!==i||(n=t,a=t.default);var r="function"==typeof a?a.options:a;if(e&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns),s&&(r._scopeId=s),o){var c=r.computed||(r.computed={});Object.keys(o).forEach(function(t){var e=o[t];c[t]=function(){return e}})}return{esModule:n,exports:a,options:r}}},8:function(t,e){},9:function(t,e,s){s(8);var o=s(1)(s(11),s(10),null,null);t.exports=o.exports},10:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"iconfont icon-top",on:{click:t.goTop}},[t._v("")])},staticRenderFns:[]}},11:function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=s(2),a=o(n);e.default={replace:!0,data:function(){return{show:!1}},mounted:function(){var t=this;(0,a.default)(window).on("scroll",function(){(0,a.default)(window).scrollTop()>100?t.show=!0:t.show=!1})},beforeDestory:function(){(0,a.default)(window).off("scroll")},methods:{goTop:function(){(0,a.default)(window).scrollTop(0),this.show=!1}}}},12:function(t,e,s){s(17);var o=s(1)(s(24),s(18),null,null);t.exports=o.exports},17:function(t,e){},18:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading_container"},[s("div",{staticClass:"load-main"},[t._m(0),t._v(" "),s("svg",{staticClass:"load_ellipse",attrs:{xmlns:"http://www.w3.org/2000/svg",version:"1.1"}},[s("ellipse",{staticStyle:{fill:"#ddd",stroke:"none"},attrs:{cx:"26",cy:"10",rx:"26",ry:"10"}})])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"load_img-mian"},[s("div",{staticClass:"load_img"})])}]}},19:function(t,e,s){var o=s(7),n=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},23:function(t,e,s){t.exports={default:s(19),__esModule:!0}},24:function(t,e){"use strict"},30:function(t,e,s){s(42);var o=s(1)(s(102),s(56),null,null);t.exports=o.exports},42:function(t,e){},44:function(t,e){},53:function(t,e,s){var o=s(1)(s(96),s(62),null,null);t.exports=o.exports},54:function(t,e,s){s(44);var o=s(1)(s(97),s(58),null,null);t.exports=o.exports},56:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.showLoading?t._e():s("div"),t._v(" "),s("nv-head",{ref:"head",attrs:{"page-type":t.getTitleStr(t.searchKey.tab),"fix-head":!0,"need-add":!0}}),t._v(" "),s("scroller",{ref:"my_scroller",attrs:{"on-refresh":t.refresh,"on-infinite":t.infinite}},[s("section",{attrs:{id:"page"}},[s("ul",{staticClass:"posts-list"},t._l(t.topics,function(e){return s("li",{key:e.id},[s("router-link",{attrs:{to:{name:"topic",params:{id:e.id}}}},[s("h3",{class:t.getTabInfo(e.tab,e.good,e.top,!0),attrs:{title:t.getTabInfo(e.tab,e.good,e.top,!1)},domProps:{textContent:t._s(e.title)}}),t._v(" "),s("div",{staticClass:"content"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy.container",value:e.author.avatar_url,expression:"item.author.avatar_url",modifiers:{container:!0}}],staticClass:"avatar"}),t._v(" "),s("div",{staticClass:"info"},[s("p",[s("span",{staticClass:"name"},[t._v("\n                                            "+t._s(e.author.loginname)+"\n                                        ")]),t._v(" "),e.reply_count>0?s("span",{staticClass:"status"},[s("b",[t._v(t._s(e.reply_count))]),t._v("\n                                            /"+t._s(e.visit_count)+"\n                                        ")]):t._e()]),t._v(" "),s("p",[s("time",[t._v(t._s(t._f("getLastTimeStr")(e.create_at,!0)))]),t._v(" "),s("time",[t._v(t._s(t._f("getLastTimeStr")(e.last_reply_at,!0)))])])])])])],1)}))])]),t._v(" "),s("nv-top")],1)},staticRenderFns:[]}},58:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"nav-list",class:{show:t.showMenu},attrs:{id:"sideBar"}},[s("section",{staticClass:"list-ul"},[s("router-link",{staticClass:"fa fa-th item",attrs:{to:{name:"list",query:{tab:"all"}}}},[t._v("全部")]),t._v(" "),s("router-link",{staticClass:"fa fa-thumbs-up item",attrs:{to:{name:"list",query:{tab:"good"}}}},[t._v("精华")]),t._v(" "),s("router-link",{staticClass:"fa fa-share-alt item",attrs:{to:{name:"list",query:{tab:"share"}}}},[t._v("分享")]),t._v(" "),s("router-link",{staticClass:"fa fa-comments item",attrs:{to:{name:"list",query:{tab:"ask"}}}},[t._v("问答")]),t._v(" "),s("router-link",{staticClass:"fa fa-address-book item",attrs:{to:{name:"list",query:{tab:"job"}}}},[t._v("招聘")]),t._v(" "),s("router-link",{staticClass:"fa fa-question-circle-o item",attrs:{to:{name:"about"}}},[t._v("关于")]),t._v(" "),s("router-link",{staticClass:"fa fa-star item",attrs:{to:{name:"collect"}}},[t._v("收藏")]),t._v(" "),s("router-link",{staticClass:"fa fa-address-book item",attrs:{to:{name:"contacts"}}},[t._v("通讯录")])],1)])},staticRenderFns:[]}},62:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.show&&t.fixHead?s("div",{staticClass:"page-cover",on:{click:t.showMenus}}):t._e(),t._v(" "),s("header",{class:{show:t.show&&t.fixHead,"fix-header":t.fixHead,"no-fix":!t.fixHead},attrs:{id:"hd"}},[s("div",{staticClass:"nv-toolbar"},[t.fixHead?s("div",{staticClass:"toolbar-nav",on:{click:t.openMenu}}):t._e(),t._v(" "),s("span",{domProps:{textContent:t._s(t.pageType)}})])]),t._v(" "),t.fixHead?s("nv-menu",{attrs:{"show-menu":t.show,"page-typr":t.pageType,nickname:t.nickname,"profile-url":t.profileimgurl}}):t._e()],1)},staticRenderFns:[]}},96:function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=s(2),a=o(n);e.default={replace:!0,props:{pageType:String,fixHead:Boolean,messageCount:Number,needAdd:{type:Boolean,default:!0}},data:function(){return{nickname:"",profileimgurl:"",show:!1}},methods:{openMenu:function(){(0,a.default)("html, body, #page").addClass("scroll-hide"),this.show=!this.show},showMenus:function(){this.show=!this.show,(0,a.default)("html, body, #page").removeClass("scroll-hide")}},components:{nvMenu:s(54)}}},97:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={replace:!0,props:["showMenu","pageType","profileUrl"],components:{}}},102:function(t,e,s){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=s(23),a=o(n),i=s(2),r=o(i),c=s(53),l=o(c),u=s(9),d=o(u),f=s(12),p=o(f),h=s(16),v=o(h);s(13);e.default={filters:{getLastTimeStr:function(t,e){return v.default.getLastTimeStr(t,e)}},data:function(){return{showLoading:!0,scroll:!0,topics:[],index:{},searchKey:{page:1,limit:15,tab:"all",mdrender:!0},searchDataStr:""}},mounted:function(){var t=this;this.$route.query&&this.$route.query.tab&&(this.searchKey.tab=this.$route.query.tab),window.window.sessionStorage.searchKey&&window.window.sessionStorage.tab===this.searchKey.tab?(this.topics=JSON.parse(window.window.sessionStorage.topics),this.searchKey=JSON.parse(window.window.sessionStorage.searchKey),setTimeout(function(){t.$refs.my_scroller.scrollTo(0,parseInt(window.window.sessionStorage.scrollTop),!1)},10),this.showLoading=!1):this.getTopics()},beforeRouteLeave:function(t,e,s){if("topic"===t.name){var o=this.$refs.my_scroller.getPosition(),n=(o.left,o.top);window.window.sessionStorage.scrollTop=n,window.window.sessionStorage.topics=(0,a.default)(this.topics),window.window.sessionStorage.searchKey=(0,a.default)(this.searchKey),window.window.sessionStorage.tab=e.query.tab||"all"}s()},beforeRouteEnter:function(t,e,s){"topic"!==e.name&&window.window.sessionStorage.tab&&(window.window.sessionStorage.removeItem("topics"),window.window.sessionStorage.removeItem("searchKey"),window.window.sessionStorage.removeItem("tab")),s()},methods:{infinite:function(t){var e=this;console.log("上拉刷新"),setTimeout(function(){e.getScrollData(),t()},2e3)},refresh:function(t){console.log("下拉刷新"),setTimeout(function(){t()},1e3)},getTitleStr:function(t){var e="";switch(t){case"share":e="分享";break;case"ask":e="问答";break;case"job":e="招聘";break;case"good":e="精华";break;default:e="全部"}return e},getTabInfo:function(t,e,s,o){return v.default.getTabInfo(t,e,s,o)},getTopics:function(){var t=this,e=r.default.param(this.searchKey);r.default.get("https://cnodejs.org/api/v1/topics?"+e,function(e){t.scroll=!0,t.showLoading=!1,e&&e.data&&e.data.forEach(t.mergeTopics)})},mergeTopics:function(t){if("number"==typeof this.index[t.id]){var e=this.index[t.id];this.topics[e]=t}else this.index[t.id]=this.topics.length,this.topics.push(t)},getScrollData:function(){this.scroll&&(this.scroll=!1,this.searchKey.page+=1,this.getTopics())}},watch:{$route:function(t,e){t.query&&t.query.tab&&(this.searchKey.tab=t.query.tab,this.topics=[],this.index={}),this.searchKey.page=1,this.getTopics(),this.$refs.head.show=!1}},components:{nvHead:l.default,nvTop:d.default,loading:p.default}}}});
//# sourceMappingURL=0.71d4d801874b0f691f1d.js.map